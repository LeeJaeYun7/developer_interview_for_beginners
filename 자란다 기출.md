# 자란
https://v6xcareer.notion.site/2f61a1b40c81495eaf564cde9efc6089

<br>


### DNS는 어떻게 동작하나요? (기출) 

<details>
   <summary> 답안 보기 (👈 Click)</summary>
[참고: 성공과 실패를 결정하는 1%의 네트워크 원리]
   
+
  DNS 서버의 기본 동작은 클라이언트에서 조회회메시지를 받고 조회의 내용에
  응답하는 형태로 정보를 회답하는 일입니다. 조회 메시지에는 
  다음의 세 가지 정보가 포함되어 있습니다. 


(a) 이름
- 서버나 메일 배송 목적지와 같은 이름입니다. 

(b)클래스
-DNS의 구조를 고안했을 때 인터넷 이외에도 네트워크에서의 이용까지 검토하여
 이것을 식별하기 위해 클래스라는 정보를 준비했습니다. 
 그러나 지금은 인터넷 이외의 네트워크는 소멸되었으므로, 
 클래스는 항상 인터넷을 나타내는 ‘IN’이라는 값이 됩니다.

©타입
- 이름에 어떤 타입(종류)의 정보가 지원되는지를 나타냅니다. 
  예를 들어 타입이 A이면 이름에 IP 주소가 지원되는 것을 나타내며,
  MX이면 이름에 메일 배송 목적지가 지원된다는 것을 나타냅니다. 
  또한, 이 타입에 따라 클라이언트에 회답하는 정보의 내용이 달라집니다. 

DNS 서버에는 이들 세 가지 정보에 대응하여 클라이언트에 회답하는 항목을
등록해 두었습니다. 
[그림1-14]의 표와 같은 형태로 이 등록 내용에서 조회 메시지에 해당하는 것을 찾아
클라이언트에 회답하는 것입니다 .

예를 들어, 이름이 www.lab.cyber.co.kr인 서버의 IP 주소를 조사할 때, 클라이언트는 
다음과 같은 정보를 포함한 조회 메시지를 DNS 서버에 보냅니다. 

(a) 이름 = www.lab.cyber.co.kr
(b) 클래스 = IN
© 타입 - A

그러면 DNS 서버는 등록된 정보를 찾아서 이름, 클래스, 타입의 세 가지가 일치하는 것을 
찾습니다. 가령 [그림1-14]의 경우 세 항목 모두 조회 메시지와 일치하는 맨 위의 행이 해당합니다.

이들 세 가지 항목이 일치하면 여기에 등록되어 있는 192.0.2.226이라는 값을 클라이언트에 회답합니다. 또한 웹 서버에는 www.lab.cybver.co.kr과 같이 www.로 시작하는 이름을 붙인 것이 많지만, 모두 이런 규칙이 있는 것은 아닙니다.

최초에 웹의 구조를 만들 때, ‘www’라는 이름으로 웹 서버를 만들 때 ‘www’라는 이름으로
 웹 서버를 등록한 것이 많았기 때문에 이것이 관례가 된 것뿐입니다. WebServer1이라고 해도 되고, MySrv라고 해도 되므로 마음에 드는 이름을 붙이고, A라는 타입으로 DNS 서버에 등록하면 그것이 웹 서버의 이름이 됩니다. 

IP 주소를 조회할 때는 A라는 타입을 사용하지만, 메일 배송 목적지를 조회할 때는 MX라는 타입을 사용합니다 .IP 주소의 정보는 A라는 타입으로 등록되고, 메일 배송 목적지는 MX라는 타입으로 DNS 서버에 등록되어 있기 때문입니다. 

예를 들어, tone@cyber.co.kr이라는 메일 주소가 있는데, 배송 목적지의 메일 서버를 조사할 경우에는 @ 뒤에 있는 이름이 메일 배송 목적지가 되므로 그 이름을 조회합니다 .

조회 메시지의 항목은 다음과 같이 될 것입니다. 

(a)이름 = cyber.co.kr
(b) 클래스 = IN
© 타입 =MX

그러면 DNS 서버는 10과 mail.cybver.co.kr이라는 두 개의 항목에 회답합니다.
타입이 MX인 경우에는 회답뿐만 아니라 mail.cyber.co.kr이라는 이름에서 해당 행을 찾아서
함께 회답하는 것입니다.

이 그림의 예라면 192.0.2.227이라는 IP 주소를 함께 회답하겠죠. 이와 같이 이름과 타입에 따라 조사하는 정보를 지정하고, 그것에 따라 해당하는 것을 찾아 클라이언트에 회답하는 것이 DNS 서버의 기본 동작입니다. 

여기에서 A와 MX라는 두 타입만 설명했지만, 이 밖에도 여러 타입이 있습니다. IP 주소에서 이름을 조사할 때 사용하는 PTR 타입, 이름에 닉네임(alias)을 붙이기 위한 CNAME, DNS 서버의 IP 주소를 등록하는 NS, 도메인 자체의 속성 정보를 등록하는 SOA 등입니다. 

DNS 서버의 동작은 조회 메시지 속의 이름과 타입에 해당하는 정보를 찾아내어 회답한다는
단순한 원리이지만, 타입을 구분해서 사용해야 하므로 다양한 정보를 취급할 수 있습니다. 
  
</details>


-----------------------

### 라우팅은 어떻게 동작하나요? (기출) 

<details>
   <summary> 답안 보기 (👈 Click)</summary>
[참고: 성공과 실패를 결정하는 1%의 네트워크 원리 p.222]
   
+ 리피터 허브나 스위칭 허브를 경유한 패킷은 결국 라우터에 도착하고, 라우터에서 다음 라우터로 중계될 것입니다.
  이러한 중계의 원리는 스위칭 허브와 비슷합니다.
  중계 대상을 등록한 표를 보고 패킷을 어디로 중계해야 할지 판단하는 부분이 공통이기 때문입니다.
  그러나 구체적인 동작은 스위칭 허브와 다른데, 이것은 라우터의 바탕이 되는 IP라는 개념이 스위칭 허브의 바탕이 되는 이더넷과 다르기 때문입니다.
  이 IP과 이더넷의 차이점은 여러 부분에 영향을 끼치므로 라우터의 개요부터 설명하겠습니다.  

  라우터의 내부 구조는 [그림3-12]에 나타나 있습니다. 상당히 간략화했지만 중계 부분과 포트 부분이라는 두 부분으로 구성된 것을 알면 충분합니다.
  그리고 중계 부분이 패킷의 중계 대상을 판단하는 동작을 담당하고, 포트 부분이 패킷을 송수신하는 동작을 담당합니다.
  이 역할 분담은 2장의 컴퓨터 내부 설명에도 나왔습니다.
  즉, 라우터의 중계 부분과 포트 부분의 역할 분담은 프로토콜 스택의 IP 담당 부분과 LAN 어댑터의 역할 분담과 같습니다.
  그러므로 라우터의 중계 부분은 IP 담당 부분과 같고, 포트 부분은 LAN 어댑터와 같다고 생각하면 됩니다.

  컴퓨터는 LAN 어댑터를 교환해서 이더넷뿐만 아니라 무선 LAN도 지원할 수 있는데, 이 점도 같습니다.
  라우터의 포트 부분에 무선 LAN용 하드웨어를 장착한 기종이라면 무선 LAN도 지원할 수 있습니다.
  반면, 컴퓨터용 LAN 어댑터라면 이더넷과 무선 LAN 이외의 통신 기술을 지원하는 것을 거의 볼 수 없지만,
  라우터의 포트 부분은 LAN 이외의 통신 기술을 지원하는 것도 있습니다.

  ADSL이나 FTTH 등 이른바 '광대역 회선'이라고 부르는 것과 전용선 등의 통신 회선 등이 이러한 예입니다. 
  포트 부분에 이러한 통신 기술의 하드웨어를 장착하면 다양한 통신 기술을 지원할 수 있습니다.

  라우터의 내부 구조를 알면 어떻게 동작하는지 대략 알 수 있습니다. 
  먼저 포트 부분에서 패킷을 수신하는데, 이 동작은 포트 부분의 통신 기술의 규칙을 따릅니다. 
  포트 부분이 이더넷이라면 이더넷의 규칙에 따라 동작하고, 무선 LAN이라면 무선 LAN의 규칙대로 동작하며,
  통신 회선이면 통신 회선의 규칙에 따라 동작합니다. 
  포트 부분의 하드웨어에 의뢰하여 패킷을 수신한다고 생각하면 되는데,
  중계 부분에서 받은 패킷의 IP 패킷에 기록되어 있는 수신처 IP 주소와 중계 대상을 판단합니다.
  그리고 중계 대상 측의 포트로 패킷을 옮기고 포트 부분의 하드웨어 규칙에 따라 패킷 송신 동작을 실행합니다. 
  여기에서도 포트 부분에 의뢰하여 패킷을 송신한다고 생각하세요.

  이것이 라우터의 기본인데, 좀 더 살펴보겠습니다.
  앞에서 포트 부분의 통신 기술의 규칙에 따라 패킷을 송,수신한다고 설명했는데,
  이것은 포트 부분이 패킷의 송신처 또는 수신처가 되어 패킷을 송수신한다는 것입니다.

  예를 들어, 포트가 이더넷인 경우 라우터의 포트에는 MAC 주소가 할당되어 이더넷의 송신처나 수신처가 됩니다. 
  포트에는 IP 주소도 할당되므로 이런 의미에서도 컴퓨터의 LAN 어댑터와 같습니다. 
  그리고 패킷을 중계할 때는 먼저 라우터의 포트 부분이 수신처가 되어 이더넷의 패킷 수신 동작을 실행합니다.
  중계 대상을 조사한 후 이번에는 포트 부분이 송신처가 되어 이더넷의 패킷 송신 동작을 실행하는데,
  이곳이 스위칭 허브와 다른 부분입니다.
  즉, 스위칭 허브는 들어온 패킷을 전송하기만 하고 자신이 송신처나 수신처가 되지 않습니다.

   라우터의 각 포트에는 MAC 주소와 IP 주소가 할당되어 있습니다. 
</details>


-----------------------

