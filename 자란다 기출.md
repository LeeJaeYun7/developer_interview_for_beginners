# 자란
https://v6xcareer.notion.site/2f61a1b40c81495eaf564cde9efc6089

<br>


### DNS는 어떻게 동작하나요? (기출) 

<details>
   <summary> 답안 보기 (👈 Click)</summary>
[참고: 성공과 실패를 결정하는 1%의 네트워크 원리]
   
+
  DNS 서버의 기본 동작은 클라이언트에서 조회회메시지를 받고 조회의 내용에
  응답하는 형태로 정보를 회답하는 일입니다. 조회 메시지에는 
  다음의 세 가지 정보가 포함되어 있습니다. 


(a) 이름
- 서버나 메일 배송 목적지와 같은 이름입니다. 

(b)클래스
-DNS의 구조를 고안했을 때 인터넷 이외에도 네트워크에서의 이용까지 검토하여
 이것을 식별하기 위해 클래스라는 정보를 준비했습니다. 
 그러나 지금은 인터넷 이외의 네트워크는 소멸되었으므로, 
 클래스는 항상 인터넷을 나타내는 ‘IN’이라는 값이 됩니다.

©타입
- 이름에 어떤 타입(종류)의 정보가 지원되는지를 나타냅니다. 
  예를 들어 타입이 A이면 이름에 IP 주소가 지원되는 것을 나타내며,
  MX이면 이름에 메일 배송 목적지가 지원된다는 것을 나타냅니다. 
  또한, 이 타입에 따라 클라이언트에 회답하는 정보의 내용이 달라집니다. 

DNS 서버에는 이들 세 가지 정보에 대응하여 클라이언트에 회답하는 항목을
등록해 두었습니다. 
[그림1-14]의 표와 같은 형태로 이 등록 내용에서 조회 메시지에 해당하는 것을 찾아
클라이언트에 회답하는 것입니다 .

예를 들어, 이름이 www.lab.cyber.co.kr인 서버의 IP 주소를 조사할 때, 클라이언트는 
다음과 같은 정보를 포함한 조회 메시지를 DNS 서버에 보냅니다. 

(a) 이름 = www.lab.cyber.co.kr
(b) 클래스 = IN
© 타입 - A

그러면 DNS 서버는 등록된 정보를 찾아서 이름, 클래스, 타입의 세 가지가 일치하는 것을 
찾습니다. 가령 [그림1-14]의 경우 세 항목 모두 조회 메시지와 일치하는 맨 위의 행이 해당합니다.

이들 세 가지 항목이 일치하면 여기에 등록되어 있는 192.0.2.226이라는 값을 클라이언트에 회답합니다. 또한 웹 서버에는 www.lab.cybver.co.kr과 같이 www.로 시작하는 이름을 붙인 것이 많지만, 모두 이런 규칙이 있는 것은 아닙니다.

최초에 웹의 구조를 만들 때, ‘www’라는 이름으로 웹 서버를 만들 때 ‘www’라는 이름으로
 웹 서버를 등록한 것이 많았기 때문에 이것이 관례가 된 것뿐입니다. WebServer1이라고 해도 되고, MySrv라고 해도 되므로 마음에 드는 이름을 붙이고, A라는 타입으로 DNS 서버에 등록하면 그것이 웹 서버의 이름이 됩니다. 

IP 주소를 조회할 때는 A라는 타입을 사용하지만, 메일 배송 목적지를 조회할 때는 MX라는 타입을 사용합니다 .IP 주소의 정보는 A라는 타입으로 등록되고, 메일 배송 목적지는 MX라는 타입으로 DNS 서버에 등록되어 있기 때문입니다. 

예를 들어, tone@cyber.co.kr이라는 메일 주소가 있는데, 배송 목적지의 메일 서버를 조사할 경우에는 @ 뒤에 있는 이름이 메일 배송 목적지가 되므로 그 이름을 조회합니다 .

조회 메시지의 항목은 다음과 같이 될 것입니다. 

(a)이름 = cyber.co.kr
(b) 클래스 = IN
© 타입 =MX

그러면 DNS 서버는 10과 mail.cybver.co.kr이라는 두 개의 항목에 회답합니다.
타입이 MX인 경우에는 회답뿐만 아니라 mail.cyber.co.kr이라는 이름에서 해당 행을 찾아서
함께 회답하는 것입니다.

이 그림의 예라면 192.0.2.227이라는 IP 주소를 함께 회답하겠죠. 이와 같이 이름과 타입에 따라 조사하는 정보를 지정하고, 그것에 따라 해당하는 것을 찾아 클라이언트에 회답하는 것이 DNS 서버의 기본 동작입니다. 

여기에서 A와 MX라는 두 타입만 설명했지만, 이 밖에도 여러 타입이 있습니다. IP 주소에서 이름을 조사할 때 사용하는 PTR 타입, 이름에 닉네임(alias)을 붙이기 위한 CNAME, DNS 서버의 IP 주소를 등록하는 NS, 도메인 자체의 속성 정보를 등록하는 SOA 등입니다. 

DNS 서버의 동작은 조회 메시지 속의 이름과 타입에 해당하는 정보를 찾아내어 회답한다는
단순한 원리이지만, 타입을 구분해서 사용해야 하므로 다양한 정보를 취급할 수 있습니다. 
  
</details>


-----------------------

