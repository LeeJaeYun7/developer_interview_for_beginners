# 데이터베이스 파티션
<br>


### 데이터베이스 파티션이란?

<details>
   <summary> 답안 보기 (👈 Click)</summary>
<br />
[참고: Real MySQL 2권] 
   
+ 파티션 기능은 테이블을 논리적으로는 하나의 테이블이지만, 물리적으로는 여러 개의 테이블로 분리해서 관리할 수 있게 해줍니다. <br> 
  파티션 기능은 주로 대용량의 테이블을 물리적으로 여러 개의 소규모 테이블로 분산하는 목적으로 사용합니다. <br> 
  하지만 파티션 기능은 대용량 테이블에 사용하면 무조건 성능이 빨라지는 만병 통치약이 아닙니다. <br>
  어떤 쿼리를 사용하느냐에 따라 오히려 성능이 더 나빠지는 경우도 자주 발생할 수 있습니다. <br> 
  MySQL 서버는 다양한 파티션 방법을 제공하지만, 여기서는 자주 사용하는 파티션 방법과 사용 시 주의해야 할 사항 위주로 살펴봅니다. <br> 
  
  MySQL 파티션이 적용된 테이블에서 INSERT나 SELECT 등과 같은 쿼리가 어떻게 실행되는지 이해한다면, <br> 
  파티션을 어떻게 사용하는 것이 가장 최적일지 쉽게 이해할 수 있습니다. <br> 
  이번 절에서는 파티션이 SQL 문장을 수행하는데 어떻게 영향을 미치는지, 그리고 파티션으로 기대할 수 있는 장점으로 무엇이 있는지 <br>
  살펴봅니다. <br> 
  
  데이터베이스에서 인덱스는 일반적으로 SELECT를 위한 것으로 보이지만, UPDATE나 DELETE 쿼리를 위해 필요한 때도 많습니다. <br> 
  물론 레코드를 변경하는 쿼리를 실행하면 인덱스의 변경을 위한 부가적인 작업이 발생하긴 하지만, <br> 
  UPDATE나 DELETE 처리를 위해 대상 레코드를 검색하려면 인덱스가 필수적입니다. <br> 
  하지만 인덱스가 커지면 커질수록 SELECT는 말할 것도 없고, INSERT나 UPDATE, DELETE 작업도 함께 느려지는 단점이 있습니다. <br>
  
  특히 한 테이블의 인덱스 크기가 물리적으로 MySQL이 사용 가능한 메모리 공간보다 크다면 그 영향은 더 심각할 것입니다. <br>
  테이블의 데이터는 실질적인 물리 메모리보다 큰 것이 일반적이겠지만, 인덱스의 워킹 셋(working set)이 실질적인 물리 메모리보다 크다면 <br> 
  쿼리 처리가 상당히 느려질 것입니다. <br> 
  
  그림 13.1과 13.2는 큰 테이블을 파티션하지 않고 그냥 사용할 때와 작은 파티션으로 나눠서 워킹 셋의 크기를 줄였을 때, <br> 
  인덱스의 워킹 셋이 물리적인 메모리를 어떻게 사용하는지를 보여줍니다. <br> 
  
  파티션하지 않고 하나의 큰 테이블로 사용하면 인덱스도 커지고, 그만큼 물리적인 메모리 공간도 많이 필요해진다는 사실을 알 수 있습니다. <br> 
  결과적으로 파티션은 데이터와 인덱스를 조각화해서 물리적 메모리를 효 율적으로 사용할 수 있게 만들어줍니다. <br> 
  
</details>

-----------------------

### 워킹 셋(Working set)이란?

<details>
   <summary> 답안 보기 (👈 Click)</summary>
<br />
[참고: Real MySQL 2권] 
   
+ 테이블의 데이터가 10GB이고, 인덱스가 3GB라고 가정해보자. 하지만 대부분의 테이블은 13GB 전체를 항상 사용하는 것이 아니라, <br> 
  그중에서 일정 부분만 활발하게 사용합니다. <br> 
  즉, 게시물이 100만 건이 저장된  테이블이라고 하더라도 그 중에서 최신 20~30%의 게시물만 활발하게 조회될 것입니다. <br> 
  대부분의  테이블 데이터가 이런 형태로 사용된다고 볼 수 있는데, 활발하게 사용되는 데이터를 워킹 셋(Working Set)이라고 표현합니다. <br> 
  테이블의 데이터를 활발하게 사용되는 워킹 셋과 그렇지 않은 부분으로 파티션할 수 있다면 상당히 효과적으로 성능을 개선할 수 있을 것입니다. 
</details>

-----------------------
