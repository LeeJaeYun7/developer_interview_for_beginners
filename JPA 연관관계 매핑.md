# JPA 연관관계 매핑 


### 연관관계 매핑이란?

<details>
   <summary> 답안 보기 (👈 Click)</summary>
<br />
 
[참고: 자바 ORM 표준 JPA 프로그래밍] 
 
+ 엔티티들은 대부분 다른 엔티티와 연관관계가 있습니다. <br> 
  예를 들어, 주문 엔티티는 어떤 상품을 주문했는지 알기 위해 상품 엔티티와 연관관계가 있고, <br> 
  상품 엔티티는 카테고리, 재고 등 또 다른 엔티티와 관계가 있습니다. <br> 
  
  그런데 객체는 참조(주소)를 사용해서 관계를 맺고, 테이블은 외래 키를 사용해서 관계를 맺습니다. <br> 
  이 둘은 완전히 다른 특징을 갖습니다. <br> 
  객체 관계 매핑(ORM)에서 가장 어려운 부분이 바로 객체 연관관계와 테이블 연관관계를 매핑하는 일입니다. <br> 
  
  객체의 참조와 테이블의 외래 키를 매핑하는 것이 이 장의 목표입니다. <br> 
   
   
</details>


-----------------------

### 단방향 연관관계란?

<details>
   <summary> 답안 보기 (👈 Click)</summary>
<br />
 
[참고: 자바 ORM 표준 JPA 프로그래밍] 
 
+ 연관관계 중에선 다대일(N:1) 단방향 관계를 가장 먼저 이해해야 합니다. <br> 
  지금부터 회원과 팀의 관계를 통해 다대일 단방향 관계를 알아봅니다. <br> 
  
  1) 회원과 팀이 있다 <br> 
  2) 회원은 하나의 팀에만 소속될 수 있다 <br>
  3) 회원과 팀은 다대일 관계이다. <br>  
  
  (1) 객체 연관관계 <br> 
   - 회원 객체는 Member.team 필드로 팀 객체와 연관관계를 맺습니다. <br> 
   - 회원 객체와 팀 객체는 단방향 관계입니다. <br> 
     회원은 Member.team 필드를 통해서 팀을 알 수 있지만, <br> 
     반대로 팀은 회원을 알 수 없습니다. <br> 
     예를 들어, member->team의 조회는 member.getTeam()으로 가능하지만, <br> 
     반대 방향인 team->member를 접근하는 필드는 없습니다. <br> 
     
  (2) 테이블 연관관계 <br> 
   - 회원 테이블은 TEAM_ID 외래 키로 팀 테이블과 연관관계를 맺습니다. <br> 
   - 회원 테이블과 팀 테이블은 양방향 관계입니다. <br> 
     회원 테이블의 TEAM_ID 외래 키를 통해서 회원과 팀을 조인할 수 있고, <br> 
     반대로 팀과 회원도 조인할 수 있습니다. <br> 
     예를 들어, MEMBER 테이블의 TEAM_ID 외래 키 하나로 MEMbER JOIN TEAM과 TEAM JOIN MEMBER 둘 다 가능합니다. <br> 
     
     외래 키 하나로 어떻게 양방향으로 조인하는지 알아봅니다. <br> 
     다음은 회원과 팀을 조인하는 SQL입니다. <br> 
     
     ```
     SELECT * 
     FROM MEMBER M 
     JOIN TEAM T ON M.TEAM_ID = T.TEAM_ID
     ```
   - 다음은 반대인 팀과 회원을 조인하는 SQL입니다.   
     
     ```
     
</details>

-----------------------
